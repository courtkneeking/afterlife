<!DOCTYPE html>
<html>
<head>
<title>Edit Existing Memorial</title>
<meta charset="UTF-8">
<style>
@media only screen and (max-width: 500px){
  h1 {
    font-size:3vh !important;
  }
}
@media only screen and (min-width: 1200px){
  h1 {
    margin-top: 10vh !important;
    font-size: 5vh !important;
    margin-left: 40% !important;
  }
}
*{
  margin:0;
}
#shell {
  background-color: #a1aeb7;
  height: 100vh;
  width: 100vw;
}
img {
  max-height: 20%;
  max-width: 40%;
  top: 2vh;
  left:2vw;
  position:absolute;
  opacity: 0.8;
}
#header {
  height: 10vh;
}
h1 {
    text-align: center;
    display: inline-block;
    margin-left: 35%;
    margin-right: 2vw;
    margin-bottom: 5vh;
    font-size: 4vh;
    margin-top: 2vh;
    color: white;
    opacity: 0.9;
  }
h2 {
  display: inline-block;
}
input {
  text-align: center;
  background-color: #eee;
  border-radius: 5px;
}
#submit{
  margin-left: 45vw;
  background-color: yellow;
  height: 6vh;
  width: 10vw;
  border-radius: 5px;
  margin-top: 3vh;
}

.accordion {
  background-color: #eee;
  color: #444;
  cursor: pointer;
  padding: 1vh;
  width: 88vw;
  border: none;
  text-align: left;
  outline: none;
  font-size: 3vh;
  transition: 0.4s;
  margin-bottom: 1vh;
  margin-left: 5vw;
}
.active, .accordion:hover {
  background-color: #ccc; 
}
.panel {
  padding: 2vh 1vw;
  display: none;
  background-color: white;
  overflow: scroll;
  margin-bottom: 2vh;
  width: 89vw;
  margin-left: 5vw;
}

.popup {
    cursor: pointer;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
    margin: 0;
    height: 2vh;
}

.popup .popuptext {
    visibility: hidden;
    width: 40vw;
    background-color: white;
    color: black;
    text-align: center;
    border-radius: 6px;
    opacity: 0.5;
    overflow: scroll;
}
.popup .show {
    visibility: visible;
    -webkit-animation: fadeIn 1s;
    animation: fadeIn 1s;
}
.popup2 {
    position: relative;
    display: inline-block;
    cursor: pointer;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
    color: white;
    font-size: 5vw;
    opacity: 0.7;  
}
/* The actual popup */
.popup2 .popuptext2 {
    visibility: hidden;
    width: 40vw;
    background-color: white;
    color: black;
    text-align: center;
    border-radius: 6px;
    padding: 8px 0;
    position: absolute;
    z-index: 1;
    bottom: 125%;
    left: 50%;
    margin-left: -80px;
    font-size: 2vw;
    opacity: 1;
}
/* Popup arrow */
.popup2 .popuptext2::after {
    content: "";
    position: absolute;
    top: 100%;
    left: 50%;
    margin-left: -5px;
    border-width: 5px;
    border-style: solid;
    border-color: #555 transparent transparent transparent;
}
/* Toggle this class - hide and show the popup */
.popup2 .show {
    visibility: visible;
    -webkit-animation: fadeIn 1s;
    animation: fadeIn 1s;
}


</style>
</head>
<body>
<div id = "shell">
  <div id = "header">
    <img src = "https://i.imgur.com/6dCg1V4.png">
  </div>
<h1>Edit Page</h1><h2 class="popup2" onclick="myFunction('edit_info')"> ï¿½<span class="popuptext2" id="edit_info">To see what is currently entered in the fields, click on their corresponding headings to expand. </span></h2>
<div class = "accordion">
  Person's Details
</div>
<div class = "panel">
  <form action = "/editpage" method = "POST">
    {% csrf_token %}
    <p class="popup" style = "margin-top: 2vh;" onclick="myFunction('profile_info')"> Profile: <input type = "text" name = "profile_image" placeholder = "url">
      <span class="popuptext" id="profile_info">{{subject.profile_image}}</span></p><br>
    <p class="popup" onclick="myFunction('name_info')"> Name: <input type = "text" name = "subject_name" placeholder = "text">
      <span class="popuptext" id="name_info">{{subject.subject_name}}</span></p><br>
    <p class="popup" onclick="myFunction('birthday_info')"> Birthday: <input type = "text" name = "birthday" placeholder = "text">
      <span class="popuptext" id="birthday_info">{{subject.birthday}}</span></p><br>
    <p class="popup" onclick="myFunction('death_info')"> Death Date: <input type = "text" name = "death_date" placeholder = "your text">
      <span class="popuptext" id="death_info">{{subject.death_date}}</span></p><br>
    <p class="popup" onclick="myFunction('slideshow_info')"> Slideshow: <input type = "text" name = "slideshow" placeholder = "url">
      <span class="popuptext" id="slideshow_info">{{subject.slideshow}}</span></p><br>
    <p class="popup" onclick="myFunction('gofundme_info')"> Gofundme: <input type = "text" name = "gofundme" placeholder = "url">
      <span class="popuptext" id="gofundme_info">{{subject.gofundme}}</span></p><br>
    <p class="popup" onclick="myFunction('obituary_image_info')"> Obituary image: <input type = "text" name = "obituary_image" placeholder = "url">
      <span class="popuptext" id="obituary_image_info">{{obituary.obituary_image}}</span></p><br>
    <p class="popup" onclick="myFunction('obituary_desc_info')"> Obituary description: <input type = "text" name = "subject_description" placeholder = "your text">
      <span class="popuptext" id="obituary_desc_info">{{obituary.subject_description}}</span></p><br>
    <p class="popup" onclick="myFunction('obituary_family_info')"> Obituary Surviving Family: <input type = "text" name = "subject_family" placeholder = "your text">
      <span class="popuptext" id="obituary_family_info">{{obituary.subject_family}}</span></p><br>
    <p class="popup" onclick="myFunction('obituary_funeral_info')"> Obituary Funeral information: <input type = "text" name = "funeral_information" placeholder = "your text">
      <span class="popuptext" id="obituary_funeral_info">{{obituary.funeral_information}}</span></p><br>
  <input type = "submit">
  </form>
</div>

<div class = "accordion">
  Images
</div>
<div class = "panel">
  <form action = "/deleteimage" method = "POST">
    {% csrf_token %}
  {% for image in images %}
  	{{image.image}}<input type = "submit" value= "delete"><input type = "hidden" name = "image" value = "{{image.id}}"><br>
  {% endfor %}
  </form>
</div>

<div class = "accordion">
  Condolences
</div>
<div class = "panel">
  <form action = "/deletecondolence" method = "POST">
    {% csrf_token %}
  {% for condolence in condolences %}
  	{{condolence.condolence}}<input type = "submit" value= "delete"><input type = "hidden" name = "condolence" value = "{{condolence.id}}"><br>
  {% endfor %}
  </form>
</div>

<div class = "accordion">
  Stories
</div>
<div class = "panel">
  <form action = "/deletestory" method = "POST">
    {% csrf_token %}
  {% for story in stories %}
  	"{{story.story}}" by {{story.author}}<input type = "submit" value= "delete"><input type = "hidden" name = "story" value = "{{story.id}}"><br>
  {% endfor %}
  </form>
</div>
<div class = "accordion">
  Friends
</div>
<div class = "panel">
  <form action = "/deletefriend" method = "POST">
    {% csrf_token %}
  {% for friend in friends %}
  	{{friend.name}}<input type = "submit" value= "delete"><input type = "hidden" name = "friend" value = "{{friend.id}}">
  {% endfor %}
  </form>
</div>
<div class = "accordion">
 Edit Settings
</div>
<div class = "panel">
  <a href = "/delete">Add password</a><br>
  <a href = "/delete">Disable Add ons</a><br>
</div>
<div class = "accordion">
  Delete Page
</div>
<div class = "panel">
  <a href = "/delete">Confirm Delete</a>
</div>
</div>

<script>
var acc = document.getElementsByClassName("accordion");
var i;

for (i = 0; i < acc.length; i++) {
    acc[i].addEventListener("click", function() {
        this.classList.toggle("active");
        var panel = this.nextElementSibling;
        if (panel.style.display === "block") {
            panel.style.display = "none";
        } else {
            panel.style.display = "block";
        }
    });
}
</script>
<script>
// When the user clicks on div, open the popup
function myFunction(message) {
    popup = document.getElementById(message)
    popup.classList.toggle("show");
}
</script>

</body>
</html>
